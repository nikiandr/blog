---
  import { getCollection } from "astro:content";
  import Layout from "../layouts/layout.astro";

  const title = "Nikita Fordui";

  // Get recent blog posts
  const allBlogPosts = await getCollection(
    "blog",
    ({ data }) => import.meta.env.DEV || !data.draft
  );

  const recentPosts = allBlogPosts
    .sort((a, b) => b.data.pubDate.getTime() - a.data.pubDate.getTime())
    .slice(0, 3);
---
<Layout title={title}>
  <!-- Hero / Introduction -->
  <header class="mb-20">
    <h1
      class="text-4xl md:text-5xl font-normal text-ink dark:text-ink_dark tracking-tight mb-8"
    >
      Nikita Fordui
    </h1>
    <p
      class="text-xl md:text-[1.35rem] text-ink-600 dark:text-ink_dark-300 leading-relaxed max-w-[38rem]"
    >
      Software engineer exploring how tools shape thinking. Writing on systems
      design, creative technology, and the craft of building.
    </p>
  </header>

  <!-- Writing -->
  <section class="mb-20">
    <h2
      class="text-sm font-sans text-ink-400 dark:text-ink_dark-500 uppercase tracking-wider mb-6"
    >
      Best Work
    </h2>
    {recentPosts.length === 0 ? (
      <p class="text-ink-500 dark:text-ink_dark-400">
        No posts yet. Check back soon.
      </p>
    ) : (
      <div class="space-y-6">
        {recentPosts.map((post) => (
          <article class="group">
            <a href={`/blog/${post.id}`} class="block" data-astro-prefetch>
              <h3 class="text-xl font-normal text-ink dark:text-ink_dark group-hover:text-accent dark:group-hover:text-accent_dark transition-colors duration-300">
                {post.data.title}
              </h3>
              <p class="text-ink-500 dark:text-ink_dark-400 mt-1 leading-relaxed">
                {post.data.description}
              </p>
            </a>
          </article>
        ))}
        <a
          href="/blog"
          class="inline-block text-ink-400 dark:text-ink_dark-500 hover:text-accent dark:hover:text-accent_dark transition-colors duration-300 font-sans mt-2"
        >
          All writing &rarr;
        </a>
      </div>
    )}
  </section>

  <!-- Simple Navigation -->
  <nav class="flex gap-6 text-lg text-ink-500 dark:text-ink_dark-400 font-sans">
    <a
      href="/photos"
      class="hover:text-accent dark:hover:text-accent_dark transition-colors duration-300"
      data-astro-prefetch
    >
      Photos
    </a>
    <a
      href="/about-me"
      class="hover:text-accent dark:hover:text-accent_dark transition-colors duration-300"
      data-astro-prefetch
    >
      About
    </a>
    <a
      href="/contact"
      class="hover:text-accent dark:hover:text-accent_dark transition-colors duration-300"
      data-astro-prefetch
    >
      Contact
    </a>
  </nav>
</Layout>
